// üìÅ UI/Views/MetaTraderSettingsView.xaml
// ===== ÿ¥ÿ±Ÿàÿπ ⁄©ÿØ =====
<UserControl x:Class="TradingJournal.UI.Views.MetaTraderSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="ÿ™ŸÜÿ∏€åŸÖÿßÿ™ ÿßÿ™ÿµÿßŸÑ ÿ®Ÿá ŸÖÿ™ÿßÿ™ÿ±€åÿØÿ±" 
                   Style="{StaticResource MaterialDesignHeadline4TextBlock}"
                   Margin="0,0,0,20"/>
        
        <!-- Settings Content -->
        <ScrollViewer Grid.Row="1">
            <StackPanel>
                <!-- Connection Settings Card -->
                <md:Card Margin="0,0,0,15">
                    <StackPanel Margin="15">
                        <TextBlock Text="ÿ™ŸÜÿ∏€åŸÖÿßÿ™ ÿ≥ÿ±Ÿàÿ±" 
                                   Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                                   Margin="0,0,0,15"/>
                        
                        <!-- Port -->
                        <TextBox x:Name="PortTextBox"
                                 md:HintAssist.Hint="ŸæŸàÿ±ÿ™ ÿ≥ÿ±Ÿàÿ±"
                                 Text="5000"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                 Margin="0,0,0,15"/>
                        
                        <!-- API Key -->
                        <PasswordBox x:Name="ApiKeyBox"
                                     md:HintAssist.Hint="⁄©ŸÑ€åÿØ API"
                                     Style="{StaticResource MaterialDesignFloatingHintPasswordBox}"
                                     Margin="0,0,0,15"/>
                        
                        <!-- Update Interval -->
                        <ComboBox x:Name="UpdateIntervalCombo"
                                  md:HintAssist.Hint="ÿ®ÿßÿ≤Ÿá ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å"
                                  Style="{StaticResource MaterialDesignFloatingHintComboBox}"
                                  Margin="0,0,0,15">
                            <ComboBoxItem Content="5 ÿ´ÿßŸÜ€åŸá" Tag="5"/>
                            <ComboBoxItem Content="10 ÿ´ÿßŸÜ€åŸá" Tag="10" IsSelected="True"/>
                            <ComboBoxItem Content="30 ÿ´ÿßŸÜ€åŸá" Tag="30"/>
                            <ComboBoxItem Content="1 ÿØŸÇ€åŸÇŸá" Tag="60"/>
                        </ComboBox>
                    </StackPanel>
                </md:Card>
                
                <!-- Connection Status Card -->
                <md:Card Margin="0,0,0,15">
                    <StackPanel Margin="15">
                        <TextBlock Text="Ÿàÿ∂ÿπ€åÿ™ ÿßÿ™ÿµÿßŸÑ" 
                                   Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                                   Margin="0,0,0,15"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Status Icon -->
                            <md:PackIcon Grid.Column="0"
                                         x:Name="StatusIcon"
                                         Kind="CircleOutline"
                                         Width="24" Height="24"
                                         Foreground="Gray"
                                         Margin="0,0,10,0"/>
                            
                            <!-- Status Text -->
                            <TextBlock Grid.Column="1"
                                       x:Name="StatusText"
                                       Text="ÿ∫€åÿ±ŸÅÿπÿßŸÑ"
                                       VerticalAlignment="Center"/>
                            
                            <!-- Toggle Button -->
                            <ToggleButton Grid.Column="2"
                                          x:Name="ConnectionToggle"
                                          Style="{StaticResource MaterialDesignSwitchToggleButton}"
                                          Checked="OnConnectionToggled"
                                          Unchecked="OnConnectionToggled"/>
                        </Grid>
                        
                        <!-- Last Sync Info -->
                        <TextBlock x:Name="LastSyncText"
                                   Text="ÿ¢ÿÆÿ±€åŸÜ ŸáŸÖ⁄ØÿßŸÖ‚Äåÿ≥ÿßÿ≤€å: -"
                                   Foreground="Gray"
                                   FontSize="12"
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </md:Card>
                
                <!-- Installation Guide Card -->
                <md:Card>
                    <Expander Header="ÿ±ÿßŸáŸÜŸÖÿß€å ŸÜÿµÿ® ÿß⁄©ÿ≥Ÿæÿ±ÿ™">
                        <StackPanel Margin="15">
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                <Run Text="1. ŸÅÿß€åŸÑ "/>
                                <Run Text="TradingJournalConnector.mq4" FontWeight="Bold"/>
                                <Run Text=" ÿ±ÿß ÿØÿ± ŸæŸàÿ¥Ÿá Experts ŸÖÿ™ÿßÿ™ÿ±€åÿØÿ± ⁄©Ÿæ€å ⁄©ŸÜ€åÿØ"/>
                            </TextBlock>
                            
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                <Run Text="2. ŸÖÿ™ÿßÿ™ÿ±€åÿØÿ± ÿ±ÿß restart ⁄©ŸÜ€åÿØ"/>
                            </TextBlock>
                            
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                <Run Text="3. ÿØÿ± ÿ™ŸÜÿ∏€åŸÖÿßÿ™ Tools > Options > Expert Advisors ⁄Øÿ≤€åŸÜŸá "/>
                                <Run Text="Allow WebRequest" FontWeight="Bold"/>
                                <Run Text=" ÿ±ÿß ŸÅÿπÿßŸÑ ⁄©ŸÜ€åÿØ"/>
                            </TextBlock>
                            
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                <Run Text="4. ÿ¢ÿØÿ±ÿ≥ "/>
                                <Run Text="http://localhost:5000" FontWeight="Bold"/>
                                <Run Text=" ÿ±ÿß ÿ®Ÿá ŸÑ€åÿ≥ÿ™ URLs ÿßÿ∂ÿßŸÅŸá ⁄©ŸÜ€åÿØ"/>
                            </TextBlock>
                            
                            <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                <Run Text="5. ÿß⁄©ÿ≥Ÿæÿ±ÿ™ ÿ±ÿß ÿ±Ÿà€å ⁄Üÿßÿ±ÿ™ ÿØŸÑÿÆŸàÿßŸá drag & drop ⁄©ŸÜ€åÿØ"/>
                            </TextBlock>
                            
                            <Button Content="ÿØÿßŸÜŸÑŸàÿØ ÿß⁄©ÿ≥Ÿæÿ±ÿ™"
                                    Click="OnDownloadExpert"
                                    Style="{StaticResource MaterialDesignOutlinedButton}"
                                    Margin="0,10,0,0"/>
                        </StackPanel>
                    </Expander>
                </md:Card>
            </StackPanel>
        </ScrollViewer>
        
        <!-- Action Buttons -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0,15,0,0">
            <Button Content="ÿ∞ÿÆ€åÿ±Ÿá ÿ™ŸÜÿ∏€åŸÖÿßÿ™"
                    Click="OnSaveSettings"
                    Style="{StaticResource MaterialDesignRaisedButton}"
                    Margin="0,0,10,0"/>
            
            <Button Content="ÿ™ÿ≥ÿ™ ÿßÿ™ÿµÿßŸÑ"
                    Click="OnTestConnection"
                    Style="{StaticResource MaterialDesignOutlinedButton}"/>
        </StackPanel>
    </Grid>
</UserControl>
// ===== Ÿæÿß€åÿßŸÜ ⁄©ÿØ =====